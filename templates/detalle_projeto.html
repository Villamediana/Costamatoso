<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>{{ nome_projeto }} - Costamatoso</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/logo.png') }}">
    <!-- Vincular al CSS usando Flask -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Meta etiqueta para dispositivos móviles -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Hammer.js CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<script type="text/javascript" async src="https://d335luupugsy2.cloudfront.net/js/loader-scripts/e14c28a9-8a58-40cc-911a-e42b3f76a7c5-loader.js" ></script>

    
</head>
<body>
    <!-- Sobreposición para el fondo -->
    <div class="overlay"></div>

    <!-- Menú de navegación -->
    <header class="header-white">
        <nav class="navbar">
            <div class="logo ocultar-logo">
                <a href="#"><img src="{{ url_for('static', filename='img/logo-preto-png.png') }}" alt="Logo"></a>
            </div>
            <div class="menu-icon">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
        <!-- Menú desplegable -->
        {% include 'fixed/menu.html' %}
    </header>

    <!-- Sección de cabecera -->
    <section class="seccion imagem-cabecalho">
        <div class="cabecalho cabecalho-desktop">
            <!-- Imagen de cabecera -->
            <img src="{{ url_for('static', filename='img/projetos/' ~ nome_categoria ~ '/' ~ nome_projeto ~ '/capa.jpg') }}" alt="{{ nome_projeto.replace('_', ' ') }}">
            <div class="overlay-cabecalho"></div>
            <div class="texto-cabecalho">
                <h1>{{ nome_projeto.replace('_', ' ') }}</h1>
                <span>{{ tipo.replace('_', ' ') }}</span>
                <div class="info-grid">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="24" height="24"><!-- Metragem --><path fill="#ffffff" d="M177.9 494.1c-18.7 18.7-49.1 18.7-67.9 0L17.9 401.9c-18.7-18.7-18.7-49.1 0-67.9l50.7-50.7 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 50.7-50.7c18.7-18.7 49.1-18.7 67.9 0l92.1 92.1c18.7 18.7 18.7 49.1 0 67.9L177.9 494.1z"/></svg>
                        {{ medidas }}
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="24" height="24"><!-- Localização --><path fill="#ffffff" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
                        {{ endereco.replace('_', ' ') }}                        
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="24" height="24"><!-- Año --><path fill="#ffffff" d="M86.4 5.5L61.8 47.6C58 54.1 56 61.6 56 69.2L56 72c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L105.6 5.5C103.6 2.1 100 0 96 0s-7.6 2.1-9.6 5.5zm128 0L189.8 47.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L233.6 5.5C231.6 2.1 228 0 224 0s-7.6 2.1-9.6 5.5zM317.8 47.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L361.6 5.5C359.6 2.1 356 0 352 0s-7.6 2.1-9.6 5.5L317.8 47.6zM128 176c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48c-35.3 0-64 28.7-64 64l0 71c8.3 5.2 18.1 9 28.8 9c13.5 0 27.2-6.1 38.4-13.4c5.4-3.5 9.9-7.1 13-9.7c1.5-1.3 2.7-2.4 3.5-3.1c.4-.4 .7-.6 .8-.8l.1-.1s0 0 0 0s0 0 0 0s0 0 0 0s0 0 0 0c3.1-3.2 7.4-4.9 11.9-4.8s8.6 2.1 11.6 5.4c0 0 0 0 0 0s0 0 0 0l.1 .1c.1 .1 .4 .4 .7 .7c.7 .7 1.7 1.7 3.1 3c2.8 2.6 6.8 6.1 11.8 9.5c10.2 7.1 23 13.1 36.3 13.1s26.1-6 36.3-13.1c5-3.5 9-6.9 11.8-9.5c1.4-1.3 2.4-2.3 3.1-3c.3-.3 .6-.6 .7-.7l.1-.1c3-3.5 7.4-5.4 12-5.4s9 2 12 5.4l.1 .1c.1 .1 .4 .4 .7 .7c.7 .7 1.7 1.7 3.1 3c2.8 2.6 6.8 6.1 11.8 9.5c10.2 7.1 23 13.1 36.3 13.1s26.1-6 36.3-13.1c5-3.5 9-6.9 11.8-9.5c1.4-1.3 2.4-2.3 3.1-3c.3-.3 .6-.6 .7-.7l.1-.1c2.9-3.4 7.1-5.3 11.6-5.4s8.7 1.6 11.9 4.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0l.1 .1c.2 .2 .4 .4 .8 .8c.8 .7 1.9 1.8 3.5 3.1c3.1 2.6 7.5 6.2 13 9.7c11.2 7.3 24.9 13.4 38.4 13.4c10.7 0 20.5-3.9 28.8-9l0-71c0-35.3-28.7-64-64-64l0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48zM448 394.6c-8.5 3.3-18.2 5.4-28.8 5.4L0 480c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32l0-85.4z"/></svg>
                        {{ ano }}
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="24" height="24"><!-- Camera --><path fill="#ffffff" d="M149.1 64.8L138.7 96 64 96C28.7 96 0 124.7 0 160L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64l-74.7 0L362.9 64.8C356.4 45.2 338.1 32 317.4 32L194.6 32c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"/></svg>
                        {{ total_fotos }}
                    </div>
                </div>
                
            </div>
        </div>
    </section>

<!-- Lightbox -->
<div id="lightbox" class="lightbox">
<div id="lightbox-content-wrapper" class="lightbox-content-wrapper">
    <span class="close" id="close-btn">&times;</span>
    <span class="lightbox-arrow lightbox-arrow-left" id="lightbox-prev">&#10094;</span>
    <img class="lightbox-content" id="lightbox-image" src="">
    <span class="lightbox-arrow lightbox-arrow-right" id="lightbox-next">&#10095;</span>
</div>
  </div>
   

    <!-- Sección de galería de imágenes -->
    <section class="seccion galeria-imagenes">
        <div class="container-mosaico">
            {% for item in imagens %}
                <div class="item-mosaico {% if item.tipo == 'imagen' %}{{ item.clase }}{% endif %}">
                    {% if item.tipo == 'imagen' %}
                        <!-- Imagen con carga progresiva (lazy loading con blur) -->
                        <img src="{{ url_for('static', filename='img/placeholder.webp') }}" 
                             data-src="{{ item.url }}" 
                             class="lazy-image" 
                             alt="{{ nome_projeto.replace('_', ' ') }}" 
                             onclick="openLightbox('{{ item.url }}')">
                    {% elif item.tipo == 'video' %}
                        <!-- Video con reproducción automática sin controles -->
                        <video autoplay muted loop class="lazy-video">
                            <source src="{{ item.url }}" type="video/mp4">
                            Tu navegador no soporta la reproducción de este video.
                        </video>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </section>
    
    

    
    



    <section class="seccion descubra-projetos">
        <div class="linea-horizontal"></div>
        <h2>Descubra mais</h2>
        
        <div class="slider-relacionados">  
          <button class="btn-relacionados btn-left">&#10094;</button>
          
          <!-- Contenedor con overflow-x -->
          <div class="items-relacionados">
            {% for projeto in projetos_relacionados %}
              <div class="item-relacionado">
                <a href="{{ url_for('detalhe_projeto', nome_categoria=nome_categoria, nome_projeto=projeto['nome']) }}" class="projeto-relacionado">
                  <div class="projeto-caja">
                    <img src="{{ url_for('static', filename=projeto['capa']) }}" alt="{{ projeto['nome'] }}">
                    <div class="titulo-caja">
                      <p>{{ projeto['nome'].replace('_', ' ') }}</p>
                    </div>
                  </div>
                </a>
              </div>
            {% endfor %}
          </div>
          
          <button class="btn-relacionados btn-right">&#10095;</button>
        </div>
      </section>
      
    
        
    



    <!-- Footer -->
    {% include 'fixed/footer.html' %}

    <!-- Vincular al archivo JavaScript usando Flask -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
        
</body>
</html>
